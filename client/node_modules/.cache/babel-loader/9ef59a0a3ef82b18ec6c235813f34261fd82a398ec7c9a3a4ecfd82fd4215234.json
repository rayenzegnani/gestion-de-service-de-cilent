{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RAYEN\\\\Documents\\\\GitHub\\\\gestion-de-service-de-cilent\\\\client\\\\src\\\\components\\\\Devices.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Devices() {\n  _s();\n  const [devices, setDevices] = useState([]);\n  const [type, setType] = useState('');\n  const [clientId, setClientId] = useState('');\n  const [clients, setClients] = useState([]);\n  const fetch = async () => {\n    const res = await api.get('/devices');\n    setDevices(res.data);\n  };\n  const fetchClients = async () => {\n    const res = await api.get('/clients');\n    setClients(res.data);\n    if (res.data[0]) setClientId(res.data[0]._id);\n  };\n  useEffect(() => {\n    fetch();\n    fetchClients();\n  }, []);\n  const submit = async e => {\n    e.preventDefault();\n    await api.post('/devices', {\n      type,\n      client: clientId\n    });\n    setType('');\n    fetch();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold mb-2\",\n      children: \"Appareils\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"flex gap-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded p-2\",\n        value: clientId,\n        onChange: e => setClientId(e.target.value),\n        children: clients.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c._id,\n          children: c.name\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 border rounded p-2\",\n        placeholder: \"Type\",\n        value: type,\n        onChange: e => setType(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-600 text-white px-3 rounded\",\n        children: \"Ajouter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-1 max-h-48 overflow-auto\",\n      children: devices.map(d => {\n        var _d$client;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"p-2 bg-gray-50 rounded border\",\n          children: [d.type, \" \\u2014 \", (_d$client = d.client) === null || _d$client === void 0 ? void 0 : _d$client.name]\n        }, d._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 27\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Devices, \"eOoukBGLEHyVJfwQexeNjKvUH3I=\");\n_c = Devices;\nvar _c;\n$RefreshReg$(_c, \"Devices\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Devices","_s","devices","setDevices","type","setType","clientId","setClientId","clients","setClients","fetch","res","get","data","fetchClients","_id","submit","e","preventDefault","post","client","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","map","c","name","placeholder","d","_d$client","_c","$RefreshReg$"],"sources":["C:/Users/RAYEN/Documents/GitHub/gestion-de-service-de-cilent/client/src/components/Devices.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../services/api';\n\nexport default function Devices(){\n  const [devices, setDevices] = useState([]);\n  const [type, setType] = useState('');\n  const [clientId, setClientId] = useState('');\n  const [clients, setClients] = useState([]);\n\n  const fetch = async ()=>{\n    const res = await api.get('/devices');\n    setDevices(res.data);\n  };\n\n  const fetchClients = async ()=>{\n    const res = await api.get('/clients');\n    setClients(res.data);\n    if(res.data[0]) setClientId(res.data[0]._id);\n  }\n\n  useEffect(()=>{ fetch(); fetchClients(); }, []);\n\n  const submit = async (e)=>{\n    e.preventDefault();\n    await api.post('/devices', { type, client: clientId });\n    setType('');\n    fetch();\n  };\n\n  return (\n    <div className=\"mb-4\">\n      <h3 className=\"text-lg font-semibold mb-2\">Appareils</h3>\n      <form onSubmit={submit} className=\"flex gap-2 mb-2\">\n        <select className=\"border rounded p-2\" value={clientId} onChange={e=>setClientId(e.target.value)}>\n          {clients.map(c => <option key={c._id} value={c._id}>{c.name}</option>)}\n        </select>\n        <input className=\"flex-1 border rounded p-2\" placeholder=\"Type\" value={type} onChange={e=>setType(e.target.value)} />\n        <button type=\"submit\" className=\"bg-blue-600 text-white px-3 rounded\">Ajouter</button>\n      </form>\n      <ul className=\"space-y-1 max-h-48 overflow-auto\">\n        {devices.map(d => <li key={d._id} className=\"p-2 bg-gray-50 rounded border\">{d.type} â€” {d.client?.name}</li>)}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}