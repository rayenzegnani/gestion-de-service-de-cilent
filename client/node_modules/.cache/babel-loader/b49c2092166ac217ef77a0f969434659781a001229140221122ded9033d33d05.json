{"ast":null,"code":"import api from './services/api';\nexport const saveToken = token => localStorage.setItem('token', token);\nexport const getToken = () => localStorage.getItem('token');\nexport const removeToken = () => localStorage.removeItem('token');\nexport const login = async (email, password) => {\n  const res = await api.post('/auth/login', {\n    email,\n    password\n  });\n  if (res.data.token) {\n    saveToken(res.data.token);\n  }\n  return res.data;\n};\nexport const register = async payload => {\n  const res = await api.post('/auth/register', payload);\n  if (res.data.token) {\n    saveToken(res.data.token);\n  }\n  return res.data;\n};\nexport const me = async () => {\n  const token = getToken();\n  if (!token) return null;\n  const res = await api.get('/auth/me', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};","map":{"version":3,"names":["api","saveToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","login","email","password","res","post","data","register","payload","me","get","headers","Authorization"],"sources":["c:/Users/RAYEN/Documents/GitHub/gestion-de-service-de-cilent/client/src/auth.js"],"sourcesContent":["import api from './services/api';\n\nexport const saveToken = (token) => localStorage.setItem('token', token);\nexport const getToken = () => localStorage.getItem('token');\nexport const removeToken = () => localStorage.removeItem('token');\n\nexport const login = async (email, password) => {\n  const res = await api.post('/auth/login', { email, password });\n  if(res.data.token){\n    saveToken(res.data.token);\n  }\n  return res.data;\n};\n\nexport const register = async (payload) => {\n  const res = await api.post('/auth/register', payload);\n  if(res.data.token){ saveToken(res.data.token); }\n  return res.data;\n};\n\nexport const me = async () => {\n  const token = getToken();\n  if(!token) return null;\n  const res = await api.get('/auth/me', { headers: { Authorization: `Bearer ${token}` } });\n  return res.data;\n};\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,gBAAgB;AAEhC,OAAO,MAAMC,SAAS,GAAIC,KAAK,IAAKC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;AACxE,OAAO,MAAMG,QAAQ,GAAGA,CAAA,KAAMF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;AAC3D,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAMJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;AAEjE,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,GAAG,GAAG,MAAMZ,GAAG,CAACa,IAAI,CAAC,aAAa,EAAE;IAAEH,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC9D,IAAGC,GAAG,CAACE,IAAI,CAACZ,KAAK,EAAC;IAChBD,SAAS,CAACW,GAAG,CAACE,IAAI,CAACZ,KAAK,CAAC;EAC3B;EACA,OAAOU,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAOC,OAAO,IAAK;EACzC,MAAMJ,GAAG,GAAG,MAAMZ,GAAG,CAACa,IAAI,CAAC,gBAAgB,EAAEG,OAAO,CAAC;EACrD,IAAGJ,GAAG,CAACE,IAAI,CAACZ,KAAK,EAAC;IAAED,SAAS,CAACW,GAAG,CAACE,IAAI,CAACZ,KAAK,CAAC;EAAE;EAC/C,OAAOU,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMG,EAAE,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMf,KAAK,GAAGG,QAAQ,CAAC,CAAC;EACxB,IAAG,CAACH,KAAK,EAAE,OAAO,IAAI;EACtB,MAAMU,GAAG,GAAG,MAAMZ,GAAG,CAACkB,GAAG,CAAC,UAAU,EAAE;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUlB,KAAK;IAAG;EAAE,CAAC,CAAC;EACxF,OAAOU,GAAG,CAACE,IAAI;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}